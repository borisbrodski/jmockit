<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
   <title>The JMockit Testing Toolkit Tutorial</title>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
   <link rel="stylesheet" type="text/css" href="../prettify.css"/>
</head>
<body>
<h2>
   Running tests with JMockit
   <div class="navigation">
      <a href="../tutorial.html"><img align="right" src="go-home.png" title="Contents"></a>
      <a href="BehaviorBasedTesting.html"><img align="right" src="go-next.png" title="Next chapter"></a>
      <a href="AnExample.html"><img align="right" src="go-previous.png" title="Previous chapter"></a>
   </div>
</h2>

<p>
   To run tests that use any of the JMockit APIs, use your Java IDE, Ant script, etc. the way you
   normally would, as long as the JVM gets a chance to load the "Java agent" which provides
   instrumentation access to JMockit (it's inside <code>jmockit.jar</code>).
   For that, you have several options, from easiest to most complex:
</p>
<ol>
<li>
   When using a HotSpot or JRockit JDK of version 1.6 or newer on Windows or Linux:
   <ul>
      <li>
         For JUnit test suites, make sure that <code>jmockit.jar</code> appears <em>before</em> any
         JUnit jar in the classpath. Only JUnit 4.5 or newer is supported.
      </li>
      <li>
         For TestNG test suites, configure TestNG with the
         <code>mockit.integration.testng.Initializer</code>
         <a href="http://testng.org/doc/documentation-main.html#testng-listeners">test listener</a>.
         This can be done by passing <code>-listener mockit.integration.testng.Initializer</code> as
         a test runner argument in the JVM command line.
         When using Maven, the listener can be specified by configuring the
         <code>maven-surefire-plugin</code> with a property of name "listener" and a value
         containing "mockit.integration.testng.Initializer" (see
         <a href="http://maven.apache.org/plugins/maven-surefire-plugin/examples/testng.html">this
            page</a> for more details).
         Another way is to specify the listener in the <code>testng.xml</code> configuration file:
         <code style="white-space: nowrap;">&lt;listener class-name="mockit.integration.testng.Initializer"/></code>.
      </li>
   </ul>
</li>
<li>
   Alternatively or in other environments (if using JDK 1.5 or a different JDK implementation or
   OS), pass <code>-javaagent:jmockit.jar</code> as a JVM initialization parameter.
   This can easily be done in the "Run/Debug Configuration" for both Eclipse and IntelliJ IDEA.
   (Note that if <code>jmockit.jar</code> is not in the current working directory when running the
   tests, you will have to insert the appropriate absolute or relative path after the colon, so the
   JVM can locate the jar file.)
</li>
</ol>
<div class="navigation">
   <a href="../tutorial.html"><img align="right" src="go-home.png" title="Contents"></a>
   <a href="BehaviorBasedTesting.html"><img align="right" src="go-next.png" title="Next chapter"></a>
   <a href="AnExample.html"><img align="right" src="go-previous.png" title="Previous chapter"></a>
</div>
<br/>
<script type="text/javascript" src="../prettify.js"></script>
</body>
</html>
